import{a as S}from"./chunk-7BVJQ43I.js";import{$ as V,$b as E,Bb as f,Da as p,Tb as F,U as s,Ua as x,Ub as D,Va as L,Vb as N,Wa as j,Wb as Z,Xa as m,Xb as _,Ya as r,Yb as P,Za as i,Zb as G,_a as M,_b as v,a as T,aa as B,ab as b,ac as h,b as q,bb as I,bc as O,fb as k,ha as c,ib as l,mb as u,nb as y,ob as C,pb as w,ta as d}from"./chunk-WVBGKJ4F.js";var W=class g{db=s(S);addNewCategoryForm=f.required();newCategoryName=c("");newCategoryWeight=c(NaN);addNewCategory(o){let t={name:this.newCategoryName(),weight:this.newCategoryWeight(),maxValue:-1};this.db.addNewCategory(t),o.reset()}static \u0275fac=function(t){return new(t||g)};static \u0275cmp=p({type:g,selectors:[["category-add-form"]],inputs:{addNewCategoryForm:[1,"addNewCategoryForm"]},features:[w([],[{provide:D,useExisting:_}])],decls:10,vars:3,consts:[[1,"fields-wrapper"],["type","text","name","category-name","required","","placeholder","\u05E9\u05DD \u05E7\u05D8\u05D2\u05D5\u05E8\u05D9\u05D4",3,"ngModelChange","ngModel"],["type","number","name","weight","required","","placeholder","\u05DE\u05E9\u05E7\u05DC",3,"ngModelChange","ngModel"],["type","submit",3,"click","disabled"]],template:function(t,e){t&1&&(r(0,"main")(1,"div",0)(2,"label"),l(3," \u05E9\u05DD: "),r(4,"input",1),C("ngModelChange",function(n){return y(e.newCategoryName,n)||(e.newCategoryName=n),n}),i()(),r(5,"label"),l(6," \u05DE\u05E9\u05E7\u05DC: "),r(7,"input",2),C("ngModelChange",function(n){return y(e.newCategoryWeight,n)||(e.newCategoryWeight=n),n}),i()()(),r(8,"button",3),b("click",function(){return e.addNewCategory(e.addNewCategoryForm())}),l(9," \u05D4\u05D5\u05E1\u05E4\u05EA \u05E7\u05D8\u05D2\u05D5\u05E8\u05D9\u05D4 "),i()()),t&2&&(d(4),u("ngModel",e.newCategoryName),d(3),u("ngModel",e.newCategoryWeight),d(),m("disabled",e.addNewCategoryForm().invalid))},dependencies:[h,F,v,N,E,P],styles:["main[_ngcontent-%COMP%]{display:flex;gap:1rem}main[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]{display:grid;gap:1rem}main[_ngcontent-%COMP%]   .fields-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;align-items:center;gap:.5rem}main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:center;display:grid;place-content:center;padding:.25rem .75rem}main[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})};var A=class g{db=s(S);appService=s(O);manageCategoriesForm=f.required();category=f.required();index=f.required();editCategoryNames=c([]);editCategoryWeights=c([]);updateCategory(o,t,e){let a=this.appService.categories().find(K=>K.id===t),n=q(T({},a),{name:this.editCategoryNames()[e]??a.name,weight:this.editCategoryWeights()[e]??a.weight});this.db.updateCategory(n),o.reset()}isFormDisabled(o,t){return!this.editCategoryWeights()[t]&&!this.editCategoryNames()[t]}deleteCategory(o){let t=this.appService.categories().find(e=>e.id===o);this.db.deleteCategory(t.id)}static \u0275fac=function(t){return new(t||g)};static \u0275cmp=p({type:g,selectors:[["category-edit-form"]],inputs:{manageCategoriesForm:[1,"manageCategoriesForm"],category:[1,"category"],index:[1,"index"]},features:[w([],[{provide:D,useExisting:_}])],decls:14,vars:5,consts:[[1,"fields-wrapper"],["type","text","name","category-name","required","",3,"ngModelChange","ngModel","placeholder"],["type","number","name","weight","required","",3,"ngModelChange","ngModel","placeholder"],[1,"action-buttons"],[1,"delete",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"],[3,"click","disabled"]],template:function(t,e){t&1&&(r(0,"main")(1,"div",0)(2,"label"),l(3," \u05E9\u05DD: "),r(4,"input",1),C("ngModelChange",function(n){return y(e.editCategoryNames()[e.index()],n)||(e.editCategoryNames()[e.index()]=n),n}),i()(),r(5,"label"),l(6," \u05DE\u05E9\u05E7\u05DC: "),r(7,"input",2),C("ngModelChange",function(n){return y(e.editCategoryWeights()[e.index()],n)||(e.editCategoryWeights()[e.index()]=n),n}),i()()(),r(8,"div",3)(9,"button",4),b("click",function(){return e.deleteCategory(e.category().id)}),V(),r(10,"svg",5),M(11,"path",6),i()(),B(),r(12,"button",7),b("click",function(){return e.updateCategory(e.manageCategoriesForm(),e.category().id,e.index())}),l(13," \u05E9\u05DE\u05D9\u05E8\u05D4 "),i()()()),t&2&&(d(4),u("ngModel",e.editCategoryNames()[e.index()]),m("placeholder",e.category().name),d(3),u("ngModel",e.editCategoryWeights()[e.index()]),m("placeholder",e.category().weight),d(5),m("disabled",e.isFormDisabled(e.manageCategoriesForm(),e.index())))},dependencies:[h,F,v,N,E,P],styles:["main[_ngcontent-%COMP%]{display:grid;gap:.25rem}main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 11ch;padding:.25rem 0}main[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr 10ch;justify-content:space-between}main[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:grid;place-content:center;padding:.25rem .75rem}main[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;color:#ff4500;background-color:#8b0000;border-radius:50%;padding:1rem}main[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:inherit;width:inherit;stroke:#000}main[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})};function Q(g,o){if(g&1&&(r(0,"div",2),M(1,"category-edit-form",5)(2,"hr"),i()),g&2){let t=o.$implicit,e=o.$index;I();let a=k(1);d(),m("category",t)("index",e)("manageCategoriesForm",a)}}var J=class g{appService=s(O);static \u0275fac=function(t){return new(t||g)};static \u0275cmp=p({type:g,selectors:[["manage-categories"]],decls:7,vars:1,consts:[["manageCategoriesForm","ngForm"],["addNewCategoryForm","ngForm"],[1,"category-wrapper"],[1,"add-new-category"],[3,"addNewCategoryForm"],[3,"category","index","manageCategoriesForm"]],template:function(t,e){if(t&1&&(r(0,"form",null,0),L(2,Q,3,3,"div",2,x),i(),r(4,"form",3,1),M(6,"category-add-form",4),i()),t&2){let a=k(5);d(2),j(e.appService.categories()),d(4),m("addNewCategoryForm",a)}},dependencies:[h,G,Z,_,W,A],styles:["form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);gap:.25rem 1rem;padding:1rem 0 0 1rem}@media (width < 777px){form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,auto)}}form.add-new-category[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}form[_ngcontent-%COMP%]   .category-wrapper[_ngcontent-%COMP%]{display:grid;gap:.25rem;padding:.25rem;border:1px solid transparent;border-radius:.25rem}form[_ngcontent-%COMP%]   .category-wrapper[_ngcontent-%COMP%]:has(.delete:hover){border-color:#8b0000!important;background-color:#8b000055}form[_ngcontent-%COMP%]   .category-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;height:auto;border:none;border-bottom:2px solid white;margin-block:.5rem 0}"],changeDetection:0})};export{J as ManageCategories};
