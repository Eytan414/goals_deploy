import{$ as u,Bb as z,Da as p,Lb as B,Mb as H,Sa as k,Ta as E,Tb as W,U as s,Vb as G,Xa as h,Ya as a,Yb as L,Za as o,_a as l,aa as x,ab as f,ac as $,bc as d,hb as N,ib as g,jb as C,mb as Z,nb as A,ob as I,qb as j,s as P,sb as D,ta as c,tb as F,ub as U,x as T,zb as V}from"./chunk-WVBGKJ4F.js";var v=class i{appService=s(d);countdown$=T(y).pipe(P(()=>{let t=new Date,n=this.getNextMidnight(t)-t.getTime(),[r,m,Y]=this.getTimeParts(n),O=`${String(r).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(Y).padStart(2,"0")}`;return O==="23:59:59"&&this.appService.selectedDate.set(new Date().toISOString().split("T")[0]),O}));getNextMidnight(t){return Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()+1)}getTimeParts(t){let e=Math.floor(t/q),n=Math.floor(t%q/_),r=Math.floor(t%_/y);return[e,n,r]}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["countdown"]],decls:5,vars:3,template:function(e,n){e&1&&(a(0,"h1"),g(1,"\u05D4\u05D9\u05D5\u05DD \u05D4\u05D1\u05D0 \u05D1\u05E2\u05D5\u05D3: "),a(2,"span"),g(3),D(4,"async"),o()()),e&2&&(c(3),C(F(4,1,n.countdown$)))},dependencies:[B],styles:["h1[_ngcontent-%COMP%]{font-size:1rem;margin:0}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-style:italic}"],changeDetection:0})},y=1e3,_=60*y,q=60*_;function J(i,t){i&1&&(u(),a(0,"svg",1),l(1,"path",2),o())}function K(i,t){i&1&&(u(),a(0,"svg",1),l(1,"path",3),o())}var M=class i{appService=s(d);direction=z.required();changeDate(){let t=this.appService.selectedDate(),e=new Date(t),n=this.direction()==="back"?-1:1,r=new Date(e);r.setDate(e.getDate()+n),this.appService.selectedDate.set(r.toISOString().split("T")[0])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["change-date"]],inputs:{direction:[1,"direction"]},decls:3,vars:2,consts:[[3,"click","ariaLabel"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061A1.125 1.125 0 0 1 3 16.811V8.69ZM12.75 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061a1.125 1.125 0 0 1-1.683-.977V8.69Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061A1.125 1.125 0 0 1 21 8.689v8.122ZM11.25 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061a1.125 1.125 0 0 1 1.683.977v8.122Z"]],template:function(e,n){e&1&&(a(0,"button",0),f("click",function(){return n.changeDate()}),k(1,J,2,0,":svg:svg",1)(2,K,2,0,":svg:svg",1),o()),e&2&&(h("ariaLabel",n.direction()==="back"?"previous day":"next day"),c(),E(n.direction()==="back"?1:2))},styles:["button[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;display:grid;place-items:center;color:#d3d3d3;border:2px solid;padding:.25rem;box-sizing:content-box}"],changeDetection:0})};var Q=i=>({visible:i}),S=class i{appService=s(d);isTodaySelected=V(()=>this.appService.selectedDate()===this.appService.today);onDateChange(t){let e=new Date(String(t)).toISOString().split("T")[0];this.appService.selectedDate.set(e)}jumpToToday(){this.appService.selectedDate.set(this.appService.today)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["date-control"]],decls:7,vars:6,consts:[[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"],["type","date","name","date",3,"ngModelChange","ngModel","max"]],template:function(e,n){e&1&&(a(0,"main")(1,"span",0),f("click",function(){return n.jumpToToday()}),u(),a(2,"svg",1),l(3,"path",2),o()(),x(),a(4,"label"),g(5," date "),a(6,"input",3),I("ngModelChange",function(m){return A(n.appService.selectedDate,m)||(n.appService.selectedDate=m),m}),f("ngModelChange",function(m){return n.onDateChange(m)}),o()()()),e&2&&(c(),N(j(4,Q,!n.isTodaySelected())),c(5),Z("ngModel",n.appService.selectedDate),h("max",n.appService.today))},dependencies:[$,W,G,L],styles:["main[_ngcontent-%COMP%]{display:flex;gap:1rem}main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:0}main[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:1.5rem;align-self:end;cursor:pointer;visibility:hidden}main[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{filter:invert(1)}main[_ngcontent-%COMP%]   span.visible[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0})};var R=class i{appService=s(d);static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["date-selection"]],decls:10,vars:4,consts:[[1,"date-interaction"],["direction","back"],[1,"datepicker"],["direction","forward"]],template:function(e,n){e&1&&(a(0,"main")(1,"div",0),l(2,"countdown")(3,"change-date",1),a(4,"div",2),l(5,"date-control"),a(6,"span"),g(7),D(8,"date"),o()(),l(9,"change-date",3),o()()),e&2&&(c(7),C(U(8,1,n.appService.dayOfWeek(),"EEEE")))},dependencies:[v,M,S,H],styles:["main[_ngcontent-%COMP%]{display:grid;align-items:center;width:100%}main[_ngcontent-%COMP%]   .date-interaction[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;text-align:center}main[_ngcontent-%COMP%]   .date-interaction[_ngcontent-%COMP%]   .datepicker[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.25rem;font-weight:700}"],changeDetection:0})};export{R as DateSelection};
